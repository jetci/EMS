# üìò ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö EMS WeCare (Technical Installation Guide)

**‡∏â‡∏ö‡∏±‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡∏°‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ (v1.0)**
**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 20 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569

---

## üèóÔ∏è 1. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏° (System Architecture)

‡∏£‡∏∞‡∏ö‡∏ö EMS WeCare ‡πÄ‡∏õ‡πá‡∏ô Web Application ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ö‡∏ö Monorepo (Frontend & Backend ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏ï‡πà‡∏≠‡∏≤‡∏à‡πÅ‡∏¢‡∏Å Folder ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô) ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

### Architecture Diagram (Mermaid)
```mermaid
graph TD
    User[Web Browser / Mobile] -->|HTTP/HTTPS| Frontend[Frontend (React + Vite)]
    User -->|WebSocket| Socket[Socket.io Service]
    
    subgraph "Server Logic"
        Frontend -->|API Request| Backend[Backend API (Express.js)]
        Socket -->|Real-time Events| Backend
        Backend -->|Auth & RBAC| Security[Security Middleware]
    end
    
    subgraph "Data Persistence"
        Backend -->|Read/Write| DB[(SQLite Database)]
        DB -->|WAL Mode| FileSystem[Storage / File System]
    end
```

### ‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏Å (Core Components)
1.  **Frontend:** React (TypeScript) + Vite Build Tool + TailwindCSS
    *   ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• User Interface ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ State ‡∏Ç‡∏≠‡∏á‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô
2.  **Backend:** Node.js + Express.js
    *   ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ API Endpoints ‡πÅ‡∏•‡∏∞ Business Logic
3.  **Database:** SQLite (Better-SQLite3)
    *   File-based Database (`wecare.db`) ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏° WAL Mode
4.  **Real-time:** Socket.io
    *   ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏£‡∏ñ (GPS Tracking) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå

---

## üõ†Ô∏è 2. ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° (Prerequisites)

‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á Server ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á Dev ‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

### Hardware Requirements (Minimum)
*   **CPU:** 2 vCPU ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤
*   **RAM:** 4 GB ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ 8 GB ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production)
*   **Storage:** 10 GB Free Space (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Database ‡πÅ‡∏•‡∏∞ Logs ‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß)

### Software Requirements
*   **OS:** Windows 10/11, Ubuntu 20.04+, ‡∏´‡∏£‡∏∑‡∏≠ macOS
*   **Node.js:** Version 18.x ‡∏´‡∏£‡∏∑‡∏≠ 20.x (LTS) ‚ö†Ô∏è ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 18
*   **Python:** Version 3.x (‡∏≠‡∏≤‡∏à‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ Build native modules ‡πÄ‡∏ä‡πà‡∏ô better-sqlite3)
*   **Git:** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ Clone code

---

## ‚öôÔ∏è 3. ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (Installation Steps)

### Step 1: ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Codebase
```bash
# Clone repository
git clone <repository_url>
cd <project_directory>

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies (‡∏ó‡∏µ‡πà Root)
npm install
```

### Step 2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Backend
‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà Folder Backend (‡πÄ‡∏ä‡πà‡∏ô `wecare-backend` ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ)
```bash
cd wecare-backend
npm install
```

**‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variable (.env)**
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÉ‡∏ô folder backend ‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:
```env
PORT=3001
NODE_ENV=production
JWT_SECRET=your_super_secret_key_change_this
ALLOWED_ORIGINS=http://localhost:5173,https://your-domain.com
```

### Step 3: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Frontend
‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà Root ‡∏´‡∏£‡∏∑‡∏≠ Folder frontend
```bash
# ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà root
npm install

# Setup Environment (.env)
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env ‡∏ó‡∏µ‡πà root
VITE_API_BASE_URL=http://localhost:3001/api
```

### Step 4: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö Database (Initialize)
‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏µ Script ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á Database ‡πÅ‡∏•‡∏∞ Seed ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô Backend ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Manual:
```bash
# ‡∏£‡∏±‡∏ô Script init db (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÉ‡∏ô package.json)
npm run init-db
# ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏Ñ‡πà Start Backend ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á
```

### Step 5: Start System
```bash
# Terminal 1: Start Backend
cd wecare-backend
npm start (‡∏´‡∏£‡∏∑‡∏≠ npm run dev)

# Terminal 2: Start Frontend
npm run dev (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö development)
# ‡∏´‡∏£‡∏∑‡∏≠ build for production
npm run build
npm run preview
```

---

## üóÑÔ∏è 4. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Database Guide)

‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ **SQLite** (`wecare.db`) ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ **14 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á** ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:

| ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏£‡∏≤‡∏á | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç |
|-----------|----------|-------------|
| `users` | ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î | email, password_hash, role |
| `patients` | ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß, ‡πÇ‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß (JSON) |
| `rides` | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏£‡∏ñ/‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á | ‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á, ‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ job |
| `drivers` | ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ | ‡πÉ‡∏ö‡∏Ç‡∏±‡∏ö‡∏Ç‡∏µ‡πà, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ active |
| `vehicles` | ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏¢‡∏≤‡∏ô‡∏û‡∏≤‡∏´‡∏ô‡∏∞ | ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô, ‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á |
| `vehicle_types` | ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏ñ | ‡∏£‡∏ñ‡∏ï‡∏π‡πâ, ‡∏£‡∏ñ‡∏Å‡∏£‡∏∞‡∏ö‡∏∞ (Master Data) |
| `driver_locations` | Log ‡∏û‡∏¥‡∏Å‡∏±‡∏î GPS | lat, lng, timestamp (High Volume) |
| `audit_logs` | ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ | **Hash Chain**, User Action |
| `teams` | ‡∏ó‡∏µ‡∏°‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ | ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏ô‡∏ó‡∏µ‡∏°‡πÅ‡∏û‡∏ó‡∏¢‡πå |
| `ride_events` | ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏£‡∏¥‡∏õ | ‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡∏£‡∏±‡∏ö, ‡∏ñ‡∏∂‡∏á‡∏£‡∏û. |
| `news` | ‡∏Ç‡πà‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå | ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡πà‡∏≤‡∏ß, ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û |
| `patient_attachments` | ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ | path ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö |
| `system_settings` | ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö | Global configs |
| `map_data` | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà | ROI, Zones (GeoJSON) |

> [!IMPORTANT]
> **‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô (Default System Map Center):** 
> - **‡∏•‡∏∞‡∏ï‡∏¥‡∏à‡∏π‡∏î (Latitude):** 19.904394846183447
> - **‡∏•‡∏≠‡∏á‡∏à‡∏¥‡∏à‡∏π‡∏î (Longitude):** 99.19735149982482 
> **‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ô‡∏µ‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö**

---

## üîë 5. ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö (Test Accounts)

‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Users ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Seeded Users) ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å

**R password Default:** `password123` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å Users ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á)

| Role | Username (Email) | ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á |
|------|------------------|------------------|
| **Admin** | `admin@wecare.ems` | ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ **‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á**, ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Users, Settings |
| **Developer** | `dev@wecare.ems` | ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á + System Logs/Debug Tools |
| **Executive** | `executive1@wecare.dev` | ‡∏î‡∏π Dashboard ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£, Reports (Read-only) |
| **Officer** | `officer1@wecare.dev` | ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ, ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏ñ, ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ |
| **Radio Center** | `office1@wecare.dev` | ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏, ‡∏™‡∏±‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏ñ, ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° GPS |
| **Driver** | `driver1@wecare.dev` | ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô, ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏á‡∏≤‡∏ô, ‡∏™‡πà‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î GPS |
| **Community** | `community1@wecare.dev` | ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏´‡∏ï‡∏∏, ‡∏Ç‡∏≠‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢, ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ |

---

## üîß 6. ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (Troubleshooting)

### Log Files
*   **Backend Logs:** ‡∏î‡∏π‡∏ó‡∏µ‡πà Console output ‡∏´‡∏£‡∏∑‡∏≠ folder `logs/` (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ write file)
*   **Database Error:** ‡πÄ‡∏ä‡πá‡∏Ñ permission ‡∏Ç‡∏≠‡∏á‡πÑ‡∏ü‡∏•‡πå `wecare.db` ‡πÅ‡∏•‡∏∞ folder `db/` ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Read/Write ‡πÑ‡∏î‡πâ

### Common Issues & Fixes
1.  **"Database is locked"**:
    *   ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏: ‡∏°‡∏µ process ‡∏≠‡∏∑‡πà‡∏ô lock file sqlite ‡∏ô‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
    *   ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: Restart service backend, ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤ `busy_timeout` ‡πÉ‡∏ô code
2.  **"Connection Refused" (Frontend -> Backend)**:
    *   ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Port 3001 ‡∏ß‡πà‡∏≤‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    *   ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `.env` ‡∏Ç‡∏≠‡∏á Frontend ‡∏ß‡πà‡∏≤‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà IP ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
3.  **Real-time ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏£‡∏ñ‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö)**:
    *   ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö connection socket.io ‡πÉ‡∏ô Browser Console (Network tab -> WS)
    *   ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Driver login ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏°‡∏≤‡∏à‡∏£‡∏¥‡∏á

### Backup & Restore
*   **Backup:** Copy ‡πÑ‡∏ü‡∏•‡πå `wecare.db` (‡πÅ‡∏•‡∏∞ `wecare.db-wal`, `wecare.db-shm` ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‡πÑ‡∏õ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏ï‡∏≠‡∏ô‡∏Ñ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á VACUUM INTO)
*   **Restore:** Stop Backend Service -> ‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Database ‡∏Å‡∏•‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏° -> Start Backend

### Emergency Reset
‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:
1.  Stop Backend
2.  ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå `wecare.db`
3.  Start Backend (‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞ Seed ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• users ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡πâ)

---

**üìû ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ù‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏í‡∏ô‡∏≤:**
‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡πâ‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡∏° Developer ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏à‡πâ‡∏á‡∏ú‡πà‡∏≤‡∏ô Issue Tracking System

---
---

## üïí 7. ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏∞‡∏ö‡∏ö (System Updates & Fixes History)

### üìÖ Update 30/01/2026

#### 1. üì± Mobile Navigation (Sidebar)
*   **‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡∏¥‡∏î ReferenceError ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£ Refactor ‡πÇ‡∏Ñ‡πâ‡∏î
*   **‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (Frontend):**
    *   ‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `getNavItems` ‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÉ‡∏ô `src/components/layout/Sidebar.tsx`
    *   ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á Props `isOpen`, `onClose` ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ô `AuthenticatedLayout.tsx`

#### 2. üñºÔ∏è Profile Image Display & Persistence
*   **‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á (404 Not Found) ‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
*   **‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (Frontend & Infrastructure):**
    *   **Vite Config:** ‡πÄ‡∏û‡∏¥‡πà‡∏° Proxy configuration ‡πÉ‡∏ô `vite.config.ts` ‡πÉ‡∏´‡πâ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á `/uploads` ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Backend (Port 3001)
    *   **State Management:** ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `src/components/layout/AuthenticatedLayout.tsx` ‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ö `onUpdateUser` prop ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Global State ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÄ‡∏™‡∏£‡πá‡∏à
    *   **Persistence:** ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á `localStorage` ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

#### 3. üíæ Database & Profile Update Logic
*   **‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏µ‡∏î‡∏≠‡∏≠‡∏Å ("Session expired") ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏∂‡πâ‡∏ô "Internal Server Error"
*   **‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (Backend & Database):**
    *   **Schema Update:** ‡∏£‡∏±‡∏ô Migration Script ‡πÄ‡∏û‡∏¥‡πà‡∏° field `phone` ‡∏•‡∏á‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á `users` (‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏°‡πà‡∏°‡∏µ field ‡∏ô‡∏µ‡πâ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏•‡∏á DB)
    *   **Error Handling:** ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á `src/routes/auth.ts` ‡πÉ‡∏´‡πâ‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞ Error:
        *   Token Invalid -> Return 401 (Logout)
        *   Database Error / Constraint Violation -> Return 400/500 (Alert Message, No Logout)
    *   ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ Auto-logout ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Frontend ‡∏Å‡∏£‡∏ì‡∏µ‡πÄ‡∏Å‡∏¥‡∏î Error 500 ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

*‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡πÇ‡∏î‡∏¢ Antigravity AI System Auditor*
