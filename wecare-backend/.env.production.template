# EMS WeCare Backend - Production Environment Template
# Copy this file to .env.production and fill in your values

# ============================================
# CRITICAL: GENERATE NEW SECRETS FOR PRODUCTION
# ============================================
# Use: openssl rand -base64 64

# JWT Secret for token signing (REQUIRED)
JWT_SECRET=REPLACE_WITH_SECURE_RANDOM_STRING_64_CHARS

# Session Secret (REQUIRED)
SESSION_SECRET=REPLACE_WITH_SECURE_RANDOM_STRING_64_CHARS

# ============================================
# ENVIRONMENT CONFIGURATION
# ============================================

# Environment: MUST be 'production'
NODE_ENV=production

# Server Port
PORT=3001

# ============================================
# CORS CONFIGURATION
# ============================================

# CRITICAL: Set your actual frontend URL(s)
# Format: Comma-separated list, NO SPACES, HTTPS only
# Example: https://app.wecare.com,https://admin.wecare.com
ALLOWED_ORIGINS=https://your-frontend-domain.com

# ============================================
# DATABASE CONFIGURATION
# ============================================

# SQLite Database Path (use absolute path in production)
DATABASE_PATH=/home/wecare/data/wecare.db

# Database Mode
DATABASE_MODE=sqlite

# ============================================
# SECURITY CONFIGURATION
# ============================================

# Session Configuration
SESSION_MAX_AGE=3600000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CSRF Protection (MUST be true in production with HTTPS)
CSRF_COOKIE_NAME=_csrf
CSRF_COOKIE_SECURE=true

# ============================================
# SENTRY ERROR MONITORING
# ============================================
# Get your DSN from https://sentry.io/
# HIGHLY RECOMMENDED for production
SENTRY_DSN=https://your-production-key@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================
# LOGGING CONFIGURATION
# ============================================

# Log Level: error, warn, info, http, debug
# Recommended: info for production
LOG_LEVEL=info

# Log Directory (use absolute path)
LOG_DIR=/home/wecare/logs

# Log Retention (days)
LOG_MAX_FILES=14d

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================

# Maximum file size (5MB)
MAX_FILE_SIZE=5242880

# Allowed image types
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/jpg

# Upload directory (use absolute path)
UPLOAD_DIR=/home/wecare/uploads

# ============================================
# BACKUP CONFIGURATION
# ============================================

# Automatic backup interval (hours)
BACKUP_INTERVAL_HOURS=24

# Maximum backups to keep
MAX_BACKUPS=7

# Backup directory (use absolute path)
BACKUP_DIR=/home/wecare/backups

# ============================================
# PRODUCTION SECURITY CHECKLIST
# ============================================
# Before deploying, ensure:
# ✅ JWT_SECRET and SESSION_SECRET are unique and secure
# ✅ ALLOWED_ORIGINS contains only your actual frontend URL(s)
# ✅ CSRF_COOKIE_SECURE is set to true
# ✅ SENTRY_DSN is configured (recommended)
# ✅ All paths are absolute paths
# ✅ File permissions are set correctly (chmod 600 .env.production)
# ✅ This file is NOT committed to version control
